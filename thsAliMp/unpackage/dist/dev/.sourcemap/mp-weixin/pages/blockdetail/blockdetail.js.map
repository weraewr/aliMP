{"version":3,"sources":["uni-app:///main.js","webpack:////Users/yss-work/workPlace/前端代码/thsMp/thsMp/pages/blockdetail/blockdetail.vue?6868","webpack:////Users/yss-work/workPlace/前端代码/thsMp/thsMp/pages/blockdetail/blockdetail.vue?9cd5","webpack:////Users/yss-work/workPlace/前端代码/thsMp/thsMp/pages/blockdetail/blockdetail.vue?6aa5","webpack:////Users/yss-work/workPlace/前端代码/thsMp/thsMp/pages/blockdetail/blockdetail.vue?1a7a","uni-app:///pages/blockdetail/blockdetail.vue","webpack:////Users/yss-work/workPlace/前端代码/thsMp/thsMp/pages/blockdetail/blockdetail.vue?aa4c","webpack:////Users/yss-work/workPlace/前端代码/thsMp/thsMp/pages/blockdetail/blockdetail.vue?4d55"],"names":["createPage","Page"],"mappings":"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","file":"pages/blockdetail/blockdetail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/blockdetail/blockdetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./blockdetail.vue?vue&type=template&id=17328e78&scoped=true&\"\nvar renderjs\nimport script from \"./blockdetail.vue?vue&type=script&lang=js&\"\nexport * from \"./blockdetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./blockdetail.vue?vue&type=style&index=0&id=17328e78&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17328e78\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/blockdetail/blockdetail.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./blockdetail.vue?vue&type=template&id=17328e78&scoped=true&\"","var components = {\n  thsUnifyList: function() {\n    return import(\n      /* webpackChunkName: \"components/ths-unify-list/ths-unify-list\" */ \"@/components/ths-unify-list/ths-unify-list.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"price\")(_vm.newPrice)\n\n  var f1 = _vm._f(\"formatPrecent\")(_vm.gain && _vm.gain)\n\n  var l0 =\n    _vm.longArr.length > 0\n      ? _vm.__map(_vm.longArr, function(item, __i0__) {\n          var $orig = _vm.__get_orig(item)\n\n          var f2 = _vm._f(\"defaultValue\")(item.name)\n\n          var f3 = _vm._f(\"price\")(item.newPrice)\n\n          var f4 = _vm._f(\"formatPrecent\")(item.gain)\n\n          return {\n            $orig: $orig,\n            f2: f2,\n            f3: f3,\n            f4: f4\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0,\n        f1: f1,\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./blockdetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./blockdetail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"blockdetail\">\r\n\t\t<view class=\"topInfo\">\r\n\t\t\t<view class=\"blockName\">{{name}}(<text class=\"blockCode\">{{code}}</text>)</view>\r\n\t\t\t<view class=\"dataInfo\" :class=\"[gain < 0 ? 'down' : 'up']\">\r\n\t\t\t\t<view class=\"num\">{{newPrice | price}}</view>\r\n\t\t\t\t<view class=\"precent\">{{gain && gain | formatPrecent}}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"contentInfo\" @click=\"changeTextState\" v-if=\"intro\">\r\n\t\t\t<view class=\"textContent\" :class=\"[showText ? 'showText' : 'hideText']\">{{intro}}</view>\r\n\t\t\t<view class=\"icon\">\r\n\t\t\t\t<image src=\"../../static/arrows_hz.png\" class=\"arrow\" :class=\"[showText ? 'down' : 'up']\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"long\" v-if=\"longArr.length > 0\">\r\n\t\t\t<view class=\"tit\">龙头股</view>\r\n\t\t\t<view class=\"longWrap\" :class=\"[longArr.length == 3 ? 'three' : '']\">\r\n\t\t\t\t<view class=\"longItem\" v-for=\"item in longArr\" :key=\"item.code\" @click=\"jump(item)\">\r\n\t\t\t\t\t<view class=\"stockName\">{{item.name | defaultValue}}</view>\r\n\t\t\t\t\t<view class=\"dataInfo\" :class=\"[item.gain < 0 ? 'down' : 'up']\">\r\n\t\t\t\t\t\t<view class=\"price\">{{item.newPrice | price}}</view>\r\n\t\t\t\t\t\t<view class=\"precent\">{{item.gain | formatPrecent}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<ths-unify-list\r\n\t\t\tclass=\"ths-list\"\r\n\t\t\t:titShow=\"true\"\r\n\t\t\t:titText=\"titText\"\r\n\t\t\t:optionText=\"optionText\"\r\n\t\t\t:listActive=\"listActive\"\r\n\t\t\t@changeList=\"changeList\"\r\n\t\t\t:infoTit=\"infoTit\"\r\n\t\t\t:load=\"load\"\r\n\t\t\t:colorKey=\"colorKey\"\r\n\t\t\t:listData=\"listData\"\r\n\t\t\t:titArr=\"titArr\"\r\n\t\t\t:titDataType=\"titDataType\"\r\n\t\t\t@sortData=\"sortData\"\r\n\t\t\t:inverted=\"inverted\"\r\n\t\t\t:isFixed=\"isTop\"\r\n\t\t\t:fixedTop=\"fixedTop\"\r\n\t\t\t:fixedType=\"1\"\r\n\t\t\t@jump=\"jump\"\r\n\t\t\t:sortTypeStatus=\"sortTypeStatus\">\r\n\t\t</ths-unify-list>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport func from '../../static/lib/tool.js'\r\n\timport qsort from '../../static/lib/sort.js'\r\n\timport checkData from '../../static/lib/checkData.js'\r\n\timport api from '../../http/api.js'\r\n\timport {\r\n\t\tmapState\r\n\t} from 'vuex';\r\n\texport default {\r\n\t\tonPageScroll() {\r\n\t\t\tlet that = this;\r\n\t\t\tconst query = uni.createSelectorQuery()\r\n\t\t\tquery.select('.ths-list').boundingClientRect()\r\n\t\t\tquery.selectViewport().scrollOffset()\r\n\t\t\tquery.exec(function(res) {\r\n\t\t\t\tif (res[0].top <= 0) {\r\n\t\t\t\t\tthat.isTop = true;\r\n\t\t\t\t\tthat.fixedTop = '0px';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (that.isTop) {\r\n\t\t\t\t\t\tthat.isTop = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(!that.listScrollTop) {\r\n\t\t\t\t\tthat.listScrollTop = res[1].scrollTop + res[0].top;\r\n\t\t\t\t}\r\n\t\t\t\tthat.listNowTop = res[0].top;\r\n\t\t\t})\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tname: '--',\r\n\t\t\t\tcode: '--',\r\n\t\t\t\tnewPrice: '',\r\n\t\t\t\tgain: '',\r\n\t\t\t\tlongArr: [],//龙头股数组\r\n\t\t\t\tshowText: false,\r\n\t\t\t\tisTop: false,\r\n\t\t\t\tfixedTop: '',\r\n\t\t\t\tintro: '',//简介\r\n\t\t\t\tlistScrollTop: '',//列表距离上顶部的距离\r\n\t\t\t\tlistNowTop: '',//列表目前距离上顶部的距离\r\n\t\t\t\tinverted: false,\r\n\t\t\t\ttitText: '成分股',\r\n\t\t\t\tlistActive: 1,\r\n\t\t\t\tinfoTit: ['最新价', '涨跌幅'],\r\n\t\t\t\tload: 2,\r\n\t\t\t\tcolorKey: 'gain',\r\n\t\t\t\ttitArr: ['newPrice','gain'],\r\n\t\t\t\ttitDataType: [0,1],//配合titArr，表示数据是百分数，还是普通数\r\n\t\t\t\tlistData: [],//显示的数据\r\n\t\t\t\tsharesInfoList: [],//从后端获取的数据\r\n\t\t\t\tsortTypeStatus: '2',//重置排序选项\r\n\t\t\t\tnowKey: '',//记录当前的排序关键字\r\n\t\t\t\thealthData: {},//健康数据对象\r\n\t\t\t\t\r\n\t\t\t\tdataTimer: null,//更新数据定时器\r\n\t\t\t\tisShowNow: true,//是否在浏览当前页\r\n\t\t\t\tisUpdata: false,//是否立即更新数据\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(opt) {\r\n\t\t\tlet { code } = opt;\r\n\t\t\tthis.getBlockData(code);\r\n\t\t\twx.showShareMenu({\r\n\t\t\t  withShareTicket: true\r\n\t\t\t});\r\n\t\t\tthis.dataTimer = setInterval(()=>{\r\n\t\t\t\tif(this.isShowNow) {\r\n\t\t\t\t\tthis.getBlockData(this.code, 1);\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.isUpdata && !this.isShowNow) {\r\n\t\t\t\t\tthis.isUpdata = true;\r\n\t\t\t\t}\r\n\t\t\t}, 30000)\r\n\t\t\tuni.loadFontFace({\r\n\t\t\t\tfamily: 'THS',\r\n\t\t\t\tsource: 'url(\"https://i.thsi.cn/m/fonts/THSMoneyfont-Medium.ttf\")',\r\n\t\t\t\tsuccess() {\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tonShareAppMessage: function( options ){\r\n\t\t　　let that = this;\r\n\t\t　　// 设置菜单中的转发按钮触发转发事件时的转发内容\r\n\t\t\tlet url = '/pages/blockdetail/blockdetail'\r\n\t\t　　let shareObj = {\r\n\t\t\t\tpath: `/pages/index/index?url=${url}&code=${this.code}&shareType=blockdetail`\r\n\t\t　　};\r\n\t\t　　return shareObj;\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.isShowNow = true;\r\n\t\t\tif(this.isUpdata) {\r\n\t\t\t\tthis.listArr.forEach((item)=>{\r\n\t\t\t\t\tthis.getBlockData(this.code, 1);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\tthis.isShowNow = false;\r\n\t\t},\r\n\t\tdestroyed() {\r\n\t\t\tthis.isShowNow = false;\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['oldMarketMap', 'newMarketMap', 'loginInfo']),\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tchangeTextState() {\r\n\t\t\t\tthis.showText = !this.showText;\r\n\t\t\t},\r\n\t\t\tchangeList(type) {\r\n\t\t\t\tthis.listActive = type;\r\n\t\t\t\t//每次切换列表数据时，重置排序项为第一项\r\n\t\t\t\tlet data = this[this.listArr[type - 1]];\r\n\t\t\t\tthis.listData = qsort(data, 0, data.length, this.titArr[0]);\r\n\t\t\t},\r\n\t\t\tsortData(type, isUp) {\r\n\t\t\t\tif(this.listNowTop < 0) {\r\n\t\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\t\tscrollTop: this.listScrollTop\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.listData.sort(function() {\r\n\t\t\t\t    return .5 - Math.random();\r\n\t\t\t\t});\r\n\t\t\t\tthis.healthData = checkData(this.listData, this.titArr)\r\n\t\t\t\tthis.listData = qsort(this.healthData.dataArr, 0, this.healthData.dataArr.length, this.titArr[type - 1], !isUp).concat(this.healthData.errArr);\r\n\t\t\t\t\r\n\t\t\t\tthis.inverted = !isUp;\r\n\t\t\t\tthis.nowKey = this.titArr[type - 1];\r\n\t\t\t},\r\n\t\t\tgetBlockData(code, type) {\r\n\t\t\t\t//获取板块数据\r\n\t\t\t\tif(!type) {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '正在加载'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: api.searchBlockInfo,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\ttime: 3000,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tcode: code\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t!type&& uni.hideLoading();\r\n\t\t\t\t\t\tif(res.data.status_code == 0) {\r\n\t\t\t\t\t\t\t//数据获取成功\r\n\t\t\t\t\t\t\tthat.formatData(res.data.result);\r\n\t\t\t\t\t\t\tif(!type) {\r\n\t\t\t\t\t\t\t\tthat.load = 3;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif(!type) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '数据获取失败，请稍候再试',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(!type) {\r\n\t\t\t\t\t\t\t\tthat.load = 4;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t!type && uni.hideLoading();\r\n\t\t\t\t\t\tif(!type) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '数据获取失败，请稍候再试',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthat.load = 4;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tformatData(data) {\r\n\t\t\t\tthis.name = data.blockInfo.name;\r\n\t\t\t\tthis.code = data.blockInfo.code;\r\n\t\t\t\tthis.newPrice = data.blockInfo.newPrice;\r\n\t\t\t\tthis.gain = data.blockInfo.gain;\r\n\t\t\t\tif(data.bellwetherStockList) {\r\n\t\t\t\t\tthis.longArr = data.bellwetherStockList.slice(0, 3);\r\n\t\t\t\t}\r\n\t\t\t\tif(data.sharesInfoList) {\r\n\t\t\t\t\tthis.sharesInfoList = data.sharesInfoList;\r\n\t\t\t\t\tif(this.sharesInfoList && this.sharesInfoList.length > 0) {\r\n\t\t\t\t\t\tthis.healthData = checkData(this.sharesInfoList, this.titArr)\r\n\t\t\t\t\t\t//赋值 排好序的值 + 异常数据（比如停牌）\r\n\t\t\t\t\t\tif(this.nowKey) {\r\n\t\t\t\t\t\t\tthis.listData = qsort(this.healthData.dataArr, 0, this.healthData.dataArr.length, this.nowKey, this.inverted).concat(this.healthData.errArr);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.listData = qsort(this.healthData.dataArr, 0, this.healthData.dataArr.length, this.titArr[1]).concat(this.healthData.errArr);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tjump(data) {\r\n\t\t\t\tlet marketAndCode\r\n\t\t\t\tif(JSON.stringify(this.newMarketMap) != '{}') {\r\n\t\t\t\t\tmarketAndCode = func.getMarkAndCode(data.id, data.code, this.newMarketMap)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmarketAndCode = func.getMarkAndCode(data.id, data.code, this.oldMarketMap)\r\n\t\t\t\t}\r\n\t\t\t\tif(marketAndCode && data.name) {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: `../hq/hq?marketAndCode=${marketAndCode}&name=${data.name}`\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\t.blockdetail {\r\n\t\t// font-family: 'THS';\r\n\t}\r\n\t.topInfo {\r\n\t\tmargin: 24rpx 32rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tfont-size: 40rpx;\r\n\t\t.blockName {\r\n\t\t\tfont-weight: bold;\r\n\t\t\t.blockCode {\r\n\t\t\t\tfont-family: 'THS';\r\n\t\t\t}\r\n\t\t}\r\n\t\t.dataInfo {\r\n\t\t\tfont-family: 'THS';\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\talign-items: center;\r\n\t\t\t&.up {\r\n\t\t\t\tcolor: #E93030;\r\n\t\t\t}\r\n\t\t\t&.down {\r\n\t\t\t\tcolor: #009900;\r\n\t\t\t}\r\n\t\t\t.num {\r\n\t\t\t\tmargin-right: 24rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.contentInfo {\r\n\t\tmargin: 0 32rpx 32rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\t.textContent {\r\n\t\t\ttransition: max-height 0.5s;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tmax-height: 66rpx;\r\n\t\t\t&.hideText {\r\n\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\t\r\n\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\r\n\t\t\t\tword-wrap: break-word;\r\n\t\t\t\t\r\n\t\t\t\twhite-space: normal !important;\r\n\t\t\t\t\r\n\t\t\t\t-webkit-line-clamp: 2;\r\n\t\t\t\t\r\n\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t}\r\n\t\t\t&.showText {\r\n\t\t\t\ttransition: max-height 0.75s;\r\n\t\t\t\tmax-height: 1000rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.icon {\r\n\t\t\tmargin: 16rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\t.arrow {\r\n\t\t\t\twidth: 24rpx;\r\n\t\t\t\theight: 14rpx;\r\n\t\t\t\tbackground-size: 100% 100%;\r\n\t\t\t\tbackground-repeat: no-repeat;\r\n\t\t\t\ttransform: rotate(180deg);\r\n\t\t\t\t&.up {\r\n\t\t\t\t\ttransform: rotate(0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.long {\r\n\t\tmargin:0 32rpx 16rpx;\r\n\t\t.tit {\r\n\t\t\tfont-size: 40rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t}\r\n\t\t.longWrap {\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin: 32rpx 0;\r\n\t\t\theight: 141rpx;\r\n\t\t\t.longItem {\r\n\t\t\t\tmargin-right: 24rpx;\r\n\t\t\t\twidth: 213rpx;\r\n\t\t\t\theight: 141rpx;\r\n\t\t\t\tbackground-color: #FFFFFF;\r\n\t\t\t\tbox-shadow: 0 2px 8px 4px #F5F5F5;\r\n\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t.stockName {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t}\r\n\t\t\t\t.dataInfo {\r\n\t\t\t\t\tfont-family: 'THS';\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t&.up {\r\n\t\t\t\t\t\tcolor: #e93030;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t&.down {\r\n\t\t\t\t\t\tcolor: #009900;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.price {\r\n\t\t\t\t\t\tmargin-right: 24rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t&.three {\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t.longItem {\r\n\t\t\t\t\tmargin-right: 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./blockdetail.vue?vue&type=style&index=0&id=17328e78&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./blockdetail.vue?vue&type=style&index=0&id=17328e78&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1599621043434\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}