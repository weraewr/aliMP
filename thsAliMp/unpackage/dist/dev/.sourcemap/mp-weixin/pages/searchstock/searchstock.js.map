{"version":3,"sources":["uni-app:///main.js","webpack:////Users/yss-work/workPlace/前端代码/thsMp/thsMp/pages/searchstock/searchstock.vue?563c","webpack:////Users/yss-work/workPlace/前端代码/thsMp/thsMp/pages/searchstock/searchstock.vue?d089","webpack:////Users/yss-work/workPlace/前端代码/thsMp/thsMp/pages/searchstock/searchstock.vue?33a2","webpack:////Users/yss-work/workPlace/前端代码/thsMp/thsMp/pages/searchstock/searchstock.vue?cddc","uni-app:///pages/searchstock/searchstock.vue","webpack:////Users/yss-work/workPlace/前端代码/thsMp/thsMp/pages/searchstock/searchstock.vue?70ce","webpack:////Users/yss-work/workPlace/前端代码/thsMp/thsMp/pages/searchstock/searchstock.vue?bb87"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,8G;AACAA,UAAU,CAACC,oBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACc;;;AAGxE;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9CA;AAAA;AAAA;AAAA;AAAw1B,CAAgB,yyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2D52B;;;;AAIA;AACA;AACA,oF;AACA;AACA,MADA,kBACA;AACA;AACA,qBADA;AAEA,oBAFA;AAGA,uBAHA;AAIA,iBAJA;AAKA,oBALA;AAMA,sBANA,EAMA;AACA,uBAPA,EAOA;AACA,sBARA,EAQA;AACA,yBATA,CASA;AATA;AAWA,GAbA;AAcA;AACA,oEADA,CAdA;;AAiBA,QAjBA,oBAiBA;AACA;AACA,2BADA;;AAGA;AACA,mBADA;AAEA,wEAFA;AAGA,aAHA,qBAGA;AACA,OAJA;;AAMA,GA3BA;AA4BA,QA5BA,oBA4BA;AACA;AACA,GA9BA;AA+BA;AACA;AACA;AACA;AACA;AACA,2EADA;;AAGA;AACA,GAvCA;AAwCA;AACA,WADA,qBACA;AACA;AACA;AACA;AACA,KALA;AAMA,YANA,sBAMA;AACA;AACA;AACA;AACA;AACA;AACA,KAZA;AAaA,eAbA,uBAaA,CAbA,EAaA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,EAIA,GAJA;AAKA,KApBA;AAqBA,QArBA,gBAqBA,IArBA,EAqBA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA,0FADA;;AAGA;AACA,KAjCA;AAkCA,kBAlCA,0BAkCA,CAlCA,EAkCA;AACA;AACA;AACA,yBADA;AAEA,+CAFA;;AAIA;AACA,oBADA;AAEA,0BAFA;;AAIA;AACA,YADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA,SAPA;AAQA,aARA,CAQA;AACA;AACA,SAVA;AAWA,OApBA,MAoBA;AACA;AACA,sBADA;AAEA,0BAFA;;AAIA;AACA,KA7DA;AA8DA,gBA9DA,wBA8DA,IA9DA,EA8DA;AACA;AACA;AACA;AACA;AACA,mCADA;AAEA,uBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;;;AAIA;AACA,gBADA;AAEA,kBAFA;AAGA,sBAHA;AAIA,kBAJA;AAKA,eALA,mBAKA,GALA,EAKA;AACA;AACA;AACA;AACA;AACA,mCADA;AAEA,sDAFA;;AAIA;AACA,WAPA,MAOA;AACA;AACA,mCADA;AAEA,0BAFA;;AAIA;AACA,SApBA;AAqBA,YArBA,gBAqBA,GArBA,EAqBA;AACA;AACA;AACA;AACA,iCADA;AAEA,wBAFA;;AAIA,SA5BA;;AA8BA,KApHA;AAqHA,cArHA,wBAqHA;AACA;AACA;AACA;AACA;AACA,6CADA;AAEA,sBAFA;AAGA,kBAHA;AAIA;AACA,sBADA,EAJA;;AAOA,eAPA,mBAOA,GAPA,EAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAdA;AAeA,YAfA,gBAeA,GAfA,EAeA;AACA;AACA,SAjBA;;AAmBA,KA5IA;AA6IA,iBA7IA,yBA6IA,IA7IA,EA6IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SANA;AAOA;AACA;AACA,KAzJA;AA0JA,iBA1JA,yBA0JA,GA1JA,EA0JA;AACA;AACA;AACA;AACA,uBADA;;AAGA;AACA;AACA;AACA,2CADA;AAEA,sBAFA;AAGA,kBAHA;AAIA;AACA,sBADA;AAEA,oBAFA,EAJA;;AAQA,eARA,mBAQA,GARA,EAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA;AACA,WATA,MASA;AACA;AACA;AACA,SAtBA;AAuBA,YAvBA,gBAuBA,GAvBA,EAuBA;AACA;AACA;AACA,SA1BA;AA2BA,gBA3BA,sBA2BA;AACA;AACA,SA7BA;;AA+BA,KAjMA,EAxCA,E;;;;;;;;;;;;;AClEA;AAAA;AAAA;AAAA;AAAmiD,CAAgB,y4CAAG,EAAC,C;;;;;;;;;;;ACAvjD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/searchstock/searchstock.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/searchstock/searchstock.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./searchstock.vue?vue&type=template&id=5e38a764&\"\nvar renderjs\nimport script from \"./searchstock.vue?vue&type=script&lang=js&\"\nexport * from \"./searchstock.vue?vue&type=script&lang=js&\"\nimport style0 from \"./searchstock.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/searchstock/searchstock.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./searchstock.vue?vue&type=template&id=5e38a764&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    !_vm.searchContent && _vm.hotData.length > 0\n      ? _vm.__map(_vm.hotData, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var f0 = _vm._f(\"formatPrecent\")(item && item.gain)\n\n          return {\n            $orig: $orig,\n            f0: f0\n          }\n        })\n      : null\n  var l1 =\n    !!_vm.searchContent && _vm.searchData.length > 0\n      ? _vm.__map(_vm.searchData, function(item, __i0__) {\n          var $orig = _vm.__get_orig(item)\n\n          var f1 = _vm._f(\"price\")(item.newPrice)\n\n          var f2 = _vm._f(\"formatPrecent\")(item.gain)\n\n          return {\n            $orig: $orig,\n            f1: f1,\n            f2: f2\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./searchstock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./searchstock.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"searchstock\">\r\n\t\t<view class=\"searchBox\">\r\n\t\t\t<view class=\"searchWrap btn\">\r\n\t\t\t\t<view class=\"iconWrap\" v-if=\"showState\">\r\n\t\t\t\t\t<image class=\"searchIcon\" src='../../static/search.png'></image>\r\n\t\t\t\t\t<text>搜股票名称/股票代码</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"inputSearch\">\r\n\t\t\t\t\t<input type=\"text\" :focus=\"true\" @focus=\"hidIcon\" @blur=\"showIcon\" :placeholder=\"searchText\" v-model=\"searchContent\" @input=\"inputHandle\">\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"paddingBox\"></view>\r\n\t\t<view class=\"hotSrarch\" v-if=\"!searchContent\">\r\n\t\t\t<view class=\"hotSearchWrap\" v-if=\"hotData.length > 0\">\r\n\t\t\t\t<view class=\"tit\">大家都在搜</view>\r\n\t\t\t\t<view class=\"hotItem\" v-for=\"(item, index) in hotData\" :key=\"item.name\">\r\n\t\t\t\t\t<view class=\"info\" @click=\"jump(item)\">\r\n\t\t\t\t\t\t<view class=\"rank\">{{index + 1}}</view>\r\n\t\t\t\t\t\t<view class=\"stockName\">{{item.name}}</view>\r\n\t\t\t\t\t\t<view class=\"precent\" :class=\"[item && item.gain < 0 ? 'down' : 'up']\">{{item && item.gain | formatPrecent}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"btn\" v-if=\"loginInfo.account\" @click=\"optionChange(item)\">{{item.optional ? '删自选' : '加自选'}}</view>\r\n\t\t\t\t\t<view class=\"btn\" v-else>\r\n\t\t\t\t\t\t<button id=\"btnLogin\" :style=\"{backgroundColor: 'transparent'}\" type=\"primary\" open-type=\"getPhoneNumber\" @getphonenumber=\"getPhoneNumber\">加自选</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"searchContent\" v-else-if=\"searchData.length > 0\">\r\n\t\t\t<view class=\"searchItem\" v-for=\"item in searchData\" :key=\"item.name\">\r\n\t\t\t\t<view class=\"leftWrap\" @click=\"jump(item)\">\r\n\t\t\t\t\t<view class=\"stockName\">\r\n\t\t\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t\t\t<rich-text :nodes=\"item.name_new\"></rich-text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"code\">\r\n\t\t\t\t\t\t\t<rich-text :nodes=\"item.code_new\"></rich-text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"price\" :class=\"[item.newPrice < 0 ? 'down' : 'up']\">{{item.newPrice | price}}</view>\r\n\t\t\t\t\t<view class=\"precent\" :class=\"[item.gain < 0 ? 'down' : '',item.gain > 0 ? 'up' : '']\">{{item.gain | formatPrecent}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"option\" v-if=\"loginInfo.account\" @click=\"optionChange(item)\" :class=\"[item.optional ? 'del' : '']\">{{item.optional ? '删自选' : '加自选'}}</view>\r\n\t\t\t\t<view class=\"option\" v-else>\r\n\t\t\t\t\t<button id=\"btnLogin\" :style=\"{backgroundColor: 'transparent'}\" type=\"primary\" open-type=\"getPhoneNumber\" @getphonenumber=\"getPhoneNumber\">加自选</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"searchContent\" v-else-if=\"searchData.length == 0 && !searching && searchContent\">\r\n\t\t\t<view class=\"noContent\">\r\n\t\t\t\t找不到任何匹配内容\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations\r\n\t} from 'vuex';\r\n\timport formatSearch from '../../static/lib/formatSearch.js'\r\n\timport func from '../../static/lib/tool.js'\r\n\timport api from '../../http/api.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowState: true,\r\n\t\t\t\tsearchText: '',\r\n\t\t\t\tsearchContent: '',\r\n\t\t\t\thotData: [],\r\n\t\t\t\tsearchData: [],\r\n\t\t\t\tcheckTimer: null,//检查定时器\r\n\t\t\t\tsearchTimer: null,//搜索定时器\r\n\t\t\t\tsearching: false,//是否在搜索\r\n\t\t\t\tsearchStatus: false,//是否可以搜索状态\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['oldMarketMap', 'newMarketMap', 'loginInfo']),\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\twx.showShareMenu({\r\n\t\t\t  withShareTicket: true\r\n\t\t\t})\r\n\t\t\tuni.loadFontFace({\r\n\t\t\t\tfamily: 'THS',\r\n\t\t\t\tsource: 'url(\"https://i.thsi.cn/m/fonts/THSMoneyfont-Medium.ttf\")',\r\n\t\t\t\tsuccess() {\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.getHotData();\r\n\t\t},\r\n\t\tonShareAppMessage: function( options ){\r\n\t\t　　let that = this;\r\n\t\t　　// 设置菜单中的转发按钮触发转发事件时的转发内容\r\n\t\t\tlet url = '/pages/searchstock/searchstock'\r\n\t\t　　let shareObj = {\r\n\t\t\t\tpath: `/pages/index/index?url=${url}&shareType=searchstock`\r\n\t\t　　};\r\n\t\t　　return shareObj;\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thidIcon() {\r\n\t\t\t\tthis.showState = false;\r\n\t\t\t\tthis.searchText = '请输入股票';\r\n\t\t\t\tthis.searchStatus = false;\r\n\t\t\t},\r\n\t\t\tshowIcon() {\r\n\t\t\t\tthis.searchStatus = true;\r\n\t\t\t\tif (!this.searchContent) {\r\n\t\t\t\t\tthis.showState = true;\r\n\t\t\t\t\tthis.searchText = '';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinputHandle(e) {\r\n\t\t\t\tthis.searchTimer && clearTimeout(this.searchTimer);\r\n\t\t\t\tthis.searchTimer = setTimeout(()=>{\r\n\t\t\t\t\tif(e.target.value && !this.searchStatus) {\r\n\t\t\t\t\t\tthis.getSearchData(e.target.value)\r\n\t\t\t\t\t}\r\n\t\t\t\t},300)\r\n\t\t\t},\r\n\t\t\tjump(data) {\r\n\t\t\t\tlet marketAndCode\r\n\t\t\t\tif(JSON.stringify(this.newMarketMap) != '{}') {\r\n\t\t\t\t\tmarketAndCode = func.getMarkAndCode(data.id, data.code, this.newMarketMap)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmarketAndCode = func.getMarkAndCode(data.id, data.code, this.oldMarketMap)\r\n\t\t\t\t}\r\n\t\t\t\tif(marketAndCode && data.name) {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: `../hq/hq?marketAndCode=${marketAndCode}&name=${data.name}`\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetPhoneNumber(e) {\r\n\t\t\t\tif (e.detail.iv && e.detail.encryptedData) {\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\tiv: e.detail.iv,\r\n\t\t\t\t\t\tencryptedData: e.detail.encryptedData\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet param = {\r\n\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\thttp: this.$http\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$store.dispatch('promiseLogin', param)\r\n\t\t\t\t\t.then(()=>{\r\n\t\t\t\t\t\tthis.getHotData();\r\n\t\t\t\t\t\t//请求后端接口，检查是否已经添加过自选\r\n\t\t\t\t\t\tif(this.searchContent) {\r\n\t\t\t\t\t\t\tthis.getSearchData(this.searchContent);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(()=>{\r\n\t\t\t\t\t\tconsole.log('登录失败了')\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '您未授权手机号',\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\toptionChange(item) {\r\n\t\t\t\tlet stateText = '';\r\n\t\t\t\tlet resText = '';\r\n\t\t\t\tlet url = '';\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\ttoken: this.loginInfo.token,\r\n\t\t\t\t\tcode: item.code\r\n\t\t\t\t};\r\n\t\t\t\tif(item.optional) {\r\n\t\t\t\t\tstateText = '正在删除中...';\r\n\t\t\t\t\tresText = '删除'\r\n\t\t\t\t\turl = api.deleteOptionalStock;\r\n\t\t\t\t\tdata.operation = 'delete';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstateText = '正在添加中...';\r\n\t\t\t\t\tresText = '添加'\r\n\t\t\t\t\turl = api.addOptionalStock;\r\n\t\t\t\t\tdata.id = item.id;\r\n\t\t\t\t\tdata.operation = 'add';\r\n\t\t\t\t}\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: stateText\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: url,\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\ttime: 3000,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tif(res.data.status_code == 0) {\r\n\t\t\t\t\t\t\t//请求成功\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: resText + '成功',\r\n\t\t\t\t\t\t\t\ticon: item.optional ? 'none' : 'success'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\titem.optional = !item.optional\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: resText + '失败',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: resText + '失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetHotData() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthis.hotData = [];\r\n\t\t\t\tlet token = this.loginInfo.account ? this.loginInfo.token : null;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: api.everyOneIsSearching,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\ttime: 3000,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttoken: token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif(res.data.status_code == 0) {\r\n\t\t\t\t\t\t\tif(res.data.result.list) {\r\n\t\t\t\t\t\t\t\tlet resData = JSON.parse(res.data.result.list);\r\n\t\t\t\t\t\t\t\tthat.hotData = that.formatHotData(resData);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tformatHotData(data) {\r\n\t\t\t\tlet newArr = [];\r\n\t\t\t\tif(data.length > 0) {\r\n\t\t\t\t\tdata.forEach((item)=>{\r\n\t\t\t\t\t\tlet newItem = item;\r\n\t\t\t\t\t\tif(item.zhangdiefu) {\r\n\t\t\t\t\t\t\tnewItem.gain = item.zhangdiefu.replace(/%/, '');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnewArr.push(newItem)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\treturn newArr;\r\n\t\t\t},\r\n\t\t\tgetSearchData(str) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet token = this.loginInfo.account ? this.loginInfo.token : null;\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中...'\r\n\t\t\t\t})\r\n\t\t\t\tthis.searchData = [];\r\n\t\t\t\tthis.searching = true;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: api.intelligentSearch,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\ttime: 3000,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttoken: token,\r\n\t\t\t\t\t\tquery: str\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tif(res.data.status_code == 0 && res.data.result.query == that.searchContent) {\r\n\t\t\t\t\t\t\tif(res.data.result.list) {\r\n\t\t\t\t\t\t\t\tlet resData = JSON.parse(res.data.result.list);\r\n\t\t\t\t\t\t\t\tif(resData.length > 0) {\r\n\t\t\t\t\t\t\t\t\tthat.searchData = formatSearch(resData, that.searchContent, ['name', 'code']);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthat.searchData = [];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.searchData = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\tthat.searching = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t.searchstock {\r\n\t\t// font-family: 'THS';\r\n\t}\r\n\t.btn {\r\n\t\tborder-radius: 36rpx;\r\n\t\tbox-shadow: 0 2rpx 8rpx 4rpx #F5F5F5;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.paddingBox {\r\n\t\tmargin: 32rpx auto 48rpx;\r\n\t\theight: 72rpx;\r\n\t}\r\n\t.searchBox {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 152rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tz-index: 10;\r\n\t}\r\n\t.searchWrap {\r\n\t\tmargin: 32rpx auto 48rpx;\r\n\t\twidth: 686rpx;\r\n\t\theight: 72rpx;\r\n\t\tposition: relative;\r\n\r\n\t\t.iconWrap {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tz-index: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\tfont-size: 24rpx;\r\n\r\n\t\t\t.searchIcon {\r\n\t\t\t\twidth: 32rpx;\r\n\t\t\t\theight: 32rpx;\r\n\t\t\t\tbackground-size: 100% 100%;\r\n\t\t\t\tbackground-repeat: no-repeat;\r\n\t\t\t\tmargin-right: 25rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.inputSearch {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tz-index: 2;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding-left: 32rpx;\r\n\t\t\tfont-size: 24rpx;\r\n\r\n\t\t\tinput {\r\n\t\t\t\twidth: 620rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.hotSrarch {\r\n\t\t.hotSearchWrap {\r\n\t\t\t.tit {\r\n\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\tmargin-bottom: 12rpx;\r\n\t\t\t\tpadding-left: 32rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\r\n\t\t\t.hotItem {\r\n\t\t\t\tfont-family: 'THS';\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\theight: 96rpx;\r\n\t\t\t\tmargin: 0 32rpx;\r\n\r\n\t\t\t\t.info {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t.rank {\r\n\t\t\t\t\t\twidth: 32rpx;\r\n\t\t\t\t\t\theight: 32rpx;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\tbackground-color: #999999;\r\n\t\t\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.stockName {\r\n\t\t\t\t\t\tfont-family: \"PingFang Medium\", \"PingFang SC\", \"Source Han Sans\";\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tmargin-right: 24rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.precent {\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\r\n\t\t\t\t\t\t&.up {\r\n\t\t\t\t\t\t\tcolor: #E93030;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t&.down {\r\n\t\t\t\t\t\t\tcolor: #009900;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.btn {\r\n\t\t\t\t\twidth: 128rpx;\r\n\t\t\t\t\theight: 56rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tbox-shadow: 0 2rpx 8rpx 0 rgba(233, 48, 48, 0.20), inset 0 0 4rpx 0 rgba(233, 48, 48, 0.30);\r\n\t\t\t\t\tborder-radius: 28rpx;\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #f27451;\r\n\t\t\t\t\t#btnLogin {\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tcolor: #f27451;\r\n\t\t\t\t\t\tpadding: 0;\r\n\t\t\t\t\t\t&::after {\r\n\t\t\t\t\t\t\tborder: none;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.hotItem:nth-child(2) {\r\n\t\t\t\t.info {\r\n\t\t\t\t\t.rank {\r\n\t\t\t\t\t\tbackground-color: #E93030;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.hotItem:nth-child(3) {\r\n\t\t\t\t.info {\r\n\t\t\t\t\t.rank {\r\n\t\t\t\t\t\tbackground-color: #E98630;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.hotItem:nth-child(4) {\r\n\t\t\t\t.info {\r\n\t\t\t\t\t.rank {\r\n\t\t\t\t\t\tbackground-color: #E9B630;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.searchContent {\r\n\t\t.searchItem {\r\n\t\t\tfont-family: 'THS';\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 96rpx;\r\n\t\t\tmargin: 0 32rpx;\r\n\t\t\t.leftWrap {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t.stockName {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\twidth: 256rpx;\r\n\t\t\t\t\t.name {\r\n\t\t\t\t\t\tfont-family: \"PingFang Medium\", \"PingFang SC\", \"Source Han Sans\";\r\n\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.code {\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.price {\r\n\t\t\t\t\twidth: 155rpx;\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t&.up {\r\n\t\t\t\t\t\tcolor: #E93030;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t&.down {\r\n\t\t\t\t\t\tcolor: #009900;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.precent {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t&.up {\r\n\t\t\t\t\t\tcolor: #E93030;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t&.down {\r\n\t\t\t\t\t\tcolor: #009900;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.option {\r\n\t\t\t\twidth: 128rpx;\r\n\t\t\t\theight: 56rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tbox-shadow: 0 2rpx 8rpx 4rpx #F5F5F5;\r\n\t\t\t\tborder-radius: 28rpx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #323232;\r\n\t\t\t\t&.del {\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t}\r\n\t\t\t\t#btnLogin {\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #323232;\r\n\t\t\t\t\tpadding: 0;\r\n\t\t\t\t\t&::after {\r\n\t\t\t\t\t\tborder: none;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.noContent {\r\n\t\t\tcolor: #999;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./searchstock.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./searchstock.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1599621043433\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}